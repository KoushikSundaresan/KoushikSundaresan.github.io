<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LemmeReport - Your Community Safety Portal</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        crossorigin=""/>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
   <header class="topbar">
    <div class="header-content" style="display:flex; flex-direction:column; align-items:center;">

        <h1 class="logo" style="display:flex; align-items:center; gap:10px;">

            <!-- SVG LOGO â€” controlled size -->
            <img src="assets/icons/logo.svg" 
                 alt="Logo"
                 class="logo-icon custom-icon"
                 style="width:38px; height:38px; object-fit:contain; display:inline-block;"
                 onerror="this.style.display='none'; this.nextElementSibling.style.display='inline';">

            <!-- Emoji fallback -->
            <span class="logo-icon emoji-fallback" style="font-size:32px; display:none;">ğŸ›¡ï¸</span>

            <!-- Title -->
            <span style="font-size:1.8rem; font-weight:700;">LemmeReport</span>
        </h1>

        <p class="tagline" style="margin-top:6px;">Community-Powered Safety</p>
    </div>
</header>


    <div class="container">
        <!-- Dashboard Navigation -->
        <nav class="dashboard-nav">
            <button class="btn nav-btn" id="nav-home">
                <img src="assets/icons/home.svg" alt="Home" class="btn-icon custom-icon" onerror="this.style.display='none'; this.nextElementSibling.style.display='inline';">
                <span class="btn-icon emoji-fallback">ğŸ </span>
                <span class="btn-text">Home</span>
            </button>
            <button class="btn nav-btn active" id="nav-citizen">
                <img src="assets/icons/citizen.svg" alt="Citizen" class="btn-icon custom-icon" onerror="this.style.display='none'; this.nextElementSibling.style.display='inline';">
                <span class="btn-icon emoji-fallback">ğŸ‘¤</span>
                <span class="btn-text">Citizen</span>
            </button>
            <button class="btn nav-btn" id="nav-municipality">
                <img src="assets/icons/municipality.svg" alt="Municipality" class="btn-icon custom-icon" onerror="this.style.display='none'; this.nextElementSibling.style.display='inline';">
                <span class="btn-icon emoji-fallback">ğŸ›</span>
                <span class="btn-text">Municipality</span>
            </button>
            <button class="btn nav-btn" id="nav-police">
                <img src="assets/icons/police.svg" alt="Police" class="btn-icon custom-icon" onerror="this.style.display='none'; this.nextElementSibling.style.display='inline';">
                <span class="btn-icon emoji-fallback">ğŸš¨</span>
                <span class="btn-text">Police</span>
            </button>
        </nav>

        <!-- Home Section -->
        <section id="home-view" class="view-section fade-in" style="display: none;">
            <div class="hero-section">
                <h2 class="hero-title">Welcome to LemmeReport!</h2>
                <p class="hero-subtitle">Your community-powered platform to make a difference.</p>
                <div class="home-nav-buttons">
                    <button class="btn btn-primary" id="go-to-report">
                        <span class="btn-icon">ğŸ“</span>
                        Submit a Report
                    </button>
                    <button class="btn btn-secondary" id="go-to-citizen-reports">
                        <span class="btn-icon">ğŸ‘ï¸</span>
                        View Reports
                    </button>
                </div>
            </div>
            
            <div class="card glass">
                <h3>Our Mission</h3>
                <p>Empowering citizens to actively participate in making their communities safer and cleaner. By facilitating direct communication between residents and city authorities, we aim to resolve local issues efficiently and transparently.</p>
                <p class="highlight">Together, let's build a better India! ğŸ‡®ğŸ‡³</p>
            </div>
            <div class="card glass" style="
    padding: 30px; 
    border-radius: 22px; 
    backdrop-filter: blur(16px);
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.15);
    box-shadow: 0 8px 25px rgba(0,0,0,0.25);
">

    <h2 style="font-size: 1.8rem; font-weight: 700; margin-bottom: 10px; color: #ffffff;">
        The Uses and Benefits of <span style="color:#00ffcc;">LemmeReport</span>
    </h2>

    <p style="opacity: 0.9; margin-bottom: 20px;">
        LemmeReport empowers citizens by enabling fast, transparent and reliable reporting 
        of local issues. It builds trust, strengthens community safety, and connects residents 
        with the authorities who can take action.
    </p>

    <hr style="border-color: rgba(255,255,255,0.15); margin: 18px 0;">

    <!-- SECTION -->
    <h3 style="font-size: 1.4rem; font-weight:600; margin-top: 15px; color:#a8ffdf;">
        ğŸŒ Real-Time Reporting of Local Issues
    </h3>

    <ul style="margin-left: 20px; opacity: 0.9;">
        <li>Instant reporting of community problems: crime, damages, unsafe areas, etc.</li>
        <li>Location tagging + media uploads for accurate assessment.</li>
        <li>Examples: potholes, broken lights, graffiti, unsafe zones, suspicious activity.</li>
    </ul>

    <!-- SECTION -->
    <h3 style="font-size: 1.4rem; font-weight:600; margin-top: 18px; color:#a8ffdf;">
        ğŸ› Bridging Communication Between Citizens & Authorities
    </h3>

    <ul style="margin-left:20px; opacity:0.9;">
        <li>Direct communication channel between residents and municipal/police agencies.</li>
        <li>Supports anonymous reporting to encourage participation.</li>
        <li>Real-time updates keep users informed about the status of their reports.</li>
    </ul>

    <!-- SECTION -->
    <h3 style="font-size: 1.4rem; font-weight:600; margin-top: 18px; color:#a8ffdf;">
        ğŸ’ª Empowerment & Civic Engagement
    </h3>

    <ul style="margin-left:20px; opacity:0.9;">
        <li>Every citizen becomes an active participant in community safety.</li>
        <li>Strengthens relationships between the public and local authorities.</li>
    </ul>

    <!-- SECTION -->
    <h3 style="font-size: 1.4rem; font-weight:600; margin-top: 18px; color:#a8ffdf;">
        ğŸš¨ Community Awareness & Alerts
    </h3>

    <ul style="margin-left:20px; opacity:0.9;">
        <li>Residents receive timely alerts about incidents and emergencies nearby.</li>
        <li>Helps users stay aware and make informed decisions.</li>
    </ul>

    <!-- SECTION -->
    <h3 style="font-size: 1.4rem; font-weight:600; margin-top:18px; color:#a8ffdf;">
        ğŸ“Š Data-Driven Prevention & Resource Allocation
    </h3>

    <p style="opacity:0.9;">
        Aggregated citizen reports help authorities analyze trends, plan interventions,
        and allocate resources where they are most needed. Visualization tools enable 
        users and officials to track patterns and neighborhood safety.
    </p>

    <!-- SECTION -->
    <h3 style="font-size: 1.4rem; font-weight:600; margin-top:18px; color:#a8ffdf;">
        ğŸ¤ Fostering Community Spirit
    </h3>

    <ul style="margin-left:20px; opacity:0.9;">
        <li>Encourages collaboration between neighbors.</li>
        <li>Strengthens local awareness and participation.</li>
        <li>Acts like a digital neighborhood watch.</li>
    </ul>

    <!-- SECTION -->
    <h3 style="font-size: 1.4rem; font-weight:600; margin-top:18px; color:#a8ffdf;">
        ğŸ§­ Transparency & Accountability
    </h3>

    <ul style="margin-left:20px; opacity:0.9;">
        <li>Users track how their reports are handled.</li>
        <li>Boosts trust in authorities and the civic system.</li>
        <li>Ensures clear resolution paths and feedback loops.</li>
    </ul>

    <!-- SECTION -->
    <h3 style="font-size: 1.4rem; font-weight:600; margin-top:18px; color:#a8ffdf;">
        ğŸ›  Specialized Features
    </h3>

    <ul style="margin-left:20px; opacity:0.9;">
        <li>Export reports (JSON) for sharing or analytics.</li>
        <li>Personal dashboard showing report history & status.</li>
    </ul>

    <!-- TABLE -->
    <h3 style="font-size: 1.4rem; font-weight:600; margin-top:25px; color:#a8ffdf;">
        ğŸ“‹ Summary Table
    </h3>

    <div style="
        overflow-x:auto;
        margin-top:10px;
        border-radius:12px;
        border:1px solid rgba(255,255,255,0.15);
        backdrop-filter: blur(6px);
    ">
        <table style="width:100%; border-collapse:collapse; color:white;">
            <thead style="background:rgba(255,255,255,0.08);">
                <tr>
                    <th style="padding:10px; border-bottom:1px solid rgba(255,255,255,0.15);">Feature</th>
                    <th style="padding:10px; border-bottom:1px solid rgba(255,255,255,0.15);">How It Helps</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="padding:10px; border-bottom:1px solid rgba(255,255,255,0.07);">Real-time reporting</td>
                    <td style="padding:10px; border-bottom:1px solid rgba(255,255,255,0.07);">Faster response, accurate data</td>
                </tr>
                <tr>
                    <td style="padding:10px; border-bottom:1px solid rgba(255,255,255,0.07);">Citizen â†’ Authority</td>
                    <td style="padding:10px; border-bottom:1px solid rgba(255,255,255,0.07);">Direct communication, anonymity</td>
                </tr>
                <tr>
                    <td style="padding:10px; border-bottom:1px solid rgba(255,255,255,0.07);">Alerts</td>
                    <td style="padding:10px; border-bottom:1px solid rgba(255,255,255,0.07);">Immediate situational awareness</td>
                </tr>
                <tr>
                    <td style="padding:10px; border-bottom:1px solid rgba(255,255,255,0.07);">Community collaboration</td>
                    <td style="padding:10px; border-bottom:1px solid rgba(255,255,255,0.07);">Stronger neighborhood safety</td>
                </tr>
                <tr>
                    <td style="padding:10px;">Transparency</td>
                    <td style="padding:10px;">Track report outcomes</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- SECTION -->
    <h3 style="font-size:1.4rem; font-weight:600; margin-top:25px; color:#a8ffdf;">
        ğŸ‡®ğŸ‡³ Unique Local Value (India)
    </h3>

    <ul style="margin-left:20px; opacity:0.9;">
        <li>Addresses region-specific safety issues: traffic, crime, civic breakdowns.</li>
        <li>Supports multi-language, local networks, regional compliance.</li>
    </ul>

    <p style="text-align:right; margin-top:20px; font-weight:600; opacity:0.8;">
        â€” <span style="color:#00e0ff;">COMET BROWSER</span>
    </p>

</div>

        </section>

        <!-- Citizen View Section -->
        <section id="citizen-view" class="view-section fade-in">
            <div class="section-header">
                <h2>Community Feed</h2>
                <button class="btn btn-primary" id="create-report-btn">
                    <span class="btn-icon">â•</span>
                    Submit Report
                </button>
            </div>
            
            <div id="report-form-container" class="card glass" style="display: none;">
                <h3 class="form-title">Submit a New Report</h3>
                <form id="reportForm">
                    <div class="form-group">
                        <label for="category">Category</label>
                        <select id="category" name="category" required>
                            <option value="">Select a categoryâ€¦</option>
                            <option value="safety">ğŸ”¥ Safety & Harassment</option>
                            <option value="infrastructure">ğŸš§ Public Infrastructure</option>
                            <option value="waste">ğŸ—‘ï¸ Waste & Cleanliness</option>
                            <option value="community">ğŸ“¢ Community Disturbances</option>
                            <option value="services">ğŸ’¡ Services & Utilities</option>
                            <option value="digital">ğŸŒ Digital / Administrative</option>
                        </select>
                    </div>

                    <div id="category-specific-fields" class="category-specific-fields"></div>

                    <div class="form-group">
                        <label for="description">Detailed Description</label>
                        <textarea id="description" name="description" placeholder="Describe the issue in detail, including landmarks or specific locations..." required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="photo">Upload Photo (Optional)</label>
                        <input type="file" id="photo" name="photo" accept="image/*">
                    </div>

                    <div class="form-group">
                        <label>Your Location (Optional, highly recommended)</label>
                        <button type="button" id="locateBtn" class="btn btn-secondary">
                            <span class="btn-icon">ğŸ“</span>
                            Detect My Location
                        </button>
                        <div class="form-row" style="margin-top: 15px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label for="manual-lat">Latitude (Manual)</label>
                                <input type="number" id="manual-lat" name="manualLat" placeholder="e.g., 28.6139" step="0.0001" min="-90" max="90">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label for="manual-lng">Longitude (Manual)</label>
                                <input type="number" id="manual-lng" name="manualLng" placeholder="e.g., 77.2090" step="0.0001" min="-180" max="180">
                            </div>
                        </div>
                        <div id="mapPreview" class="map-preview">
                            <img id="mapStaticImage" src="" alt="Map Preview">
                            <span id="mapPreviewText" class="map-preview-text">Click "Detect My Location" or enter coordinates manually.</span>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="contact-name">Your Name (Optional)</label>
                            <input type="text" id="contact-name" name="contactName" placeholder="Enter your name">
                        </div>
                        <div class="form-group">
                            <label for="contact-email">Your Email (Optional)</label>
                            <input type="email" id="contact-email" name="contactEmail" placeholder="your.email@example.com">
                        </div>
                    </div>

                    <button class="btn btn-accent btn-submit" type="submit">
                        <span class="btn-icon">ğŸš€</span>
                        Submit Report
                    </button>
                    <p id="cooldownMsg" class="cooldown-msg"></p>
                </form>
            </div>

            <h3 class="section-subtitle">Reports Near You</h3>
            <div id="citizen-map-container" class="map-container"></div>
            
            <div id="citizenReportList" class="report-list">
                <div class="card glass loading-card">
                    <div class="loading-spinner"></div>
                    <p>Loading community reports...</p>
                </div>
            </div>
        </section>

        <!-- Municipality View Section -->
        <section id="municipality-view" class="view-section fade-in" style="display: none;">
            <div class="section-header">
                <h2>Municipality Dashboard</h2>
                <p class="section-description">Infrastructure, waste, and service issues</p>
            </div>
            <div id="municipality-map-container" class="map-container"></div>
            <!-- ===========================
     MUNICIPALITY ANALYTICS
     =========================== -->
<div class="card glass" style="margin-bottom:20px;">
    <h2 style="margin-bottom:10px;">ğŸ› Municipality Analytics Overview</h2>

    <div style="
        display:grid;
        grid-template-columns: repeat(auto-fit,minmax(180px,1fr));
        gap:18px;
        margin-top:20px;">
        
        <!-- CARD 1 -->
        <div class="glass" style="padding:18px; border-radius:16px; text-align:center;">
            <h3 style="margin:0; font-size:1.3rem;">ğŸ›  Issues Logged</h3>
            <p style="font-size:2rem; font-weight:700; color:#00e0ff;">128</p>
            <small>Past 30 days</small>
        </div>

        <!-- CARD 2 -->
        <div class="glass" style="padding:18px; border-radius:16px; text-align:center;">
            <h3 style="margin:0; font-size:1.3rem;">ğŸ“Œ Resolved</h3>
            <p style="font-size:2rem; font-weight:700; color:#10ffb1;">92</p>
            <small>72% resolution rate</small>
        </div>

        <!-- CARD 3 -->
        <div class="glass" style="padding:18px; border-radius:16px; text-align:center;">
            <h3 style="margin:0; font-size:1.3rem;">âš  High Priority</h3>
            <p style="font-size:2rem; font-weight:700; color:#ffce47;">16</p>
            <small>Streetlights, drainage, water supply</small>
        </div>

        <!-- CARD 4 -->
        <div class="glass" style="padding:18px; border-radius:16px; text-align:center;">
            <h3 style="margin:0; font-size:1.3rem;">ğŸ•’ Avg Response Time</h3>
            <p style="font-size:2rem; font-weight:700; color:#66b3ff;">4.8h</p>
            <small>Last 7 days</small>
        </div>
    </div>

    <h3 style="margin-top:25px;">ğŸ“ Most Common Issues</h3>
    <ul style="opacity:0.9; margin-left:15px;">
        <li>Streetlight not working â€“ 38 reports</li>
        <li>Potholes â€“ 27 reports</li>
        <li>Garbage overflow â€“ 22 reports</li>
        <li>Water leakage â€“ 14 reports</li>
    </ul>
</div>
<!-- ===========================
     LIVE REPORTS SECTION HEADER
     =========================== -->
<div style="
    margin: 25px 0 15px 0;
    padding: 12px 18px;
    border-radius: 14px;
    backdrop-filter: blur(10px);
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.18);
    box-shadow: 0 8px 20px rgba(0,0,0,0.25);
">
    <h2 style="
        margin: 0;
        font-size: 1.5rem;
        font-weight: 700;
        letter-spacing: 0.4px;
        color: #00ffcc;
        text-shadow: 0 0 4px rgba(0,255,200,0.4);
    ">
        ğŸ“¡ Live Reports
    </h2>

    <p style="margin: 6px 0 0 0; opacity:0.8; font-size:0.95rem;">
        Latest updates from your area, refreshed as reports come in.
    </p>
</div>

            <div id="municipalityReportList" class="report-list">
                <div class="card glass empty-card">
                    <p>No reports to display</p>
                </div>
            </div>
        </section>

        <!-- Police View Section -->
        <section id="police-view" class="view-section fade-in" style="display: none;">
            <div class="section-header">
                <h2>Police Dashboard</h2>
                <p class="section-description">Safety & emergency alerts requiring attention</p>
            </div>
            <div id="police-map-container" class="map-container"></div>
            <!-- ===========================
     POLICE ANALYTICS
     =========================== -->
<div class="card glass" style="margin-bottom:20px;">
    <h2 style="margin-bottom:10px;">ğŸ‘® Police Analytics Overview</h2>

    <div style="
        display:grid;
        grid-template-columns: repeat(auto-fit,minmax(180px,1fr));
        gap:18px;
        margin-top:20px;">

        <!-- CARD 1 -->
        <div class="glass" style="padding:18px; border-radius:16px; text-align:center;">
            <h3 style="margin:0; font-size:1.3rem;">ğŸš¨ Safety Reports</h3>
            <p style="font-size:2rem; font-weight:700; color:#ff7676;">64</p>
            <small>Past 30 days</small>
        </div>

        <!-- CARD 2 -->
        <div class="glass" style="padding:18px; border-radius:16px; text-align:center;">
            <h3 style="margin:0; font-size:1.3rem;">âš  Critical Alerts</h3>
            <p style="font-size:2rem; font-weight:700; color:#ff4747;">9</p>
            <small>Immediate action required</small>
        </div>

        <!-- CARD 3 -->
        <div class="glass" style="padding:18px; border-radius:16px; text-align:center;">
            <h3 style="margin:0; font-size:1.3rem;">ğŸ‘¤ Anonymous Tips</h3>
            <p style="font-size:2rem; font-weight:700; color:#00e0ff;">21</p>
            <small>Valuable intel from citizens</small>
        </div>

        <!-- CARD 4 -->
        <div class="glass" style="padding:18px; border-radius:16px; text-align:center;">
            <h3 style="margin:0; font-size:1.3rem;">ğŸ•’ Avg Response Time</h3>
            <p style="font-size:2rem; font-weight:700; color:#67ff9b;">18m</p>
            <small>Past week</small>
        </div>
    </div>

    <h3 style="margin-top:25px;">ğŸ” Common Safety Reports</h3>
    <ul style="opacity:0.9; margin-left:15px;">
        <li>Suspicious activity â€“ 22 reports</li>
        <li>Domestic violence alerts â€“ 11 reports</li>
        <li>Public intoxication â€“ 10 reports</li>
        <li>Threatening behaviour â€“ 8 reports</li>
    </ul>
</div>
<!-- ===========================
     LIVE REPORTS SECTION HEADER
     =========================== -->
<div style="
    margin: 25px 0 15px 0;
    padding: 12px 18px;
    border-radius: 14px;
    backdrop-filter: blur(10px);
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.18);
    box-shadow: 0 8px 20px rgba(0,0,0,0.25);
">
    <h2 style="
        margin: 0;
        font-size: 1.5rem;
        font-weight: 700;
        letter-spacing: 0.4px;
        color: #00ffcc;
        text-shadow: 0 0 4px rgba(0,255,200,0.4);
    ">
        ğŸ“¡ Live Reports
    </h2>

    <p style="margin: 6px 0 0 0; opacity:0.8; font-size:0.95rem;">
        Latest updates from your area, refreshed as reports come in.
    </p>
</div>


            <div id="policeReportList" class="report-list">
                <div class="card glass empty-card">
                    <p>No alerts to display</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>Made with â¤ï¸ for a safer India</p>
        <button onclick="showJSONData()" class="btn btn-secondary" style="margin-top: 15px; font-size: 0.9rem;">
            <span class="btn-icon">ğŸ’¾</span>
            Export Report Data (JSON)
        </button>
    </footer>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        crossorigin=""></script>
    
    <!-- Custom JavaScript -->
    <script src="app.js"></script>
</body>
</html>
